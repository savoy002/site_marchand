{% extends 'base_admin.html.twig' %}

{% block title %} Produits {% endblock %}

{% block body %}

		<div class="row">
			<div class="offset-sm-1">
				<h1>Produits.</h1>
			</div>
		</div>

		<div class="row">
			<div class="offset-sm-1"
				<nav aria-label="breadcrumb">
				  <ol class="breadcrumb">
				    <li class="breadcrumb-item"><a href="{{ path("admin") }}">Administrateur</a></li>
				    <li class="breadcrumb-item"><a href="{{ path("menu_product") }}">Menu produit</a></li>
				    <li class="breadcrumb-item active" aria-current="page">Produits</li>
				  </ol>
				</nav>
			</div>
		</div>

		<div class="row justify-content-center">

			{% if products|length > 0 %}
				<div class="row">
					<div class="col-10 offset-md-1">
						<table class="table table-bordered">
							<thead class="thead-dark">
								<tr><th></th><th>Nom</th><th>Code</th><th>Description</th><th>Stock</th><th>Activitée</th><th>Voir</th></tr>
							</thead>
							<tbody>
								{% for product in products %}
									<tr>
										<td>
											{% if product.imgFileName != null %}
												<img src="{{ asset('img/uploads/Product/Product/' ~ product.imgFileName) }}" width="60" height="60">
											{% endif %}
										</td>
										<td>{{ product.name }}</td>
										<td>{{ product.code }}</td>
										<td>{{ product.description }}</td>
										<td>{{ product.stock }}</td>
										<td>{{ (product.activate)?('Actif'):('Inactif') }}</td>
										<td><a href="{{ path("product",{ id:product.id } ) }}" class="btn btn-info">Voir</a></td>
									</tr>
								{% endfor %}
							</tbody>
						</table>
					</div>
				</div>
			{% else %}
				<div class="col-12 justify-content-center">
					<p>Aucun produit trouvé.</p>
				</div>
			{% endif %}
			<div class="{{ (products|length > 0)?('col offset-sm-1'):('col-12') }}">
				<a href="{{ path("create_product") }}" class="btn btn-primary">Créer un produit.</a>
			</div>

		</div>

{% endblock %}