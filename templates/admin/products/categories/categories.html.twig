{% extends 'base_admin.html.twig' %}

{% block title %} Categories {% endblock %}

{% block body %}

		<div class="row">
			<div class="offset-sm-1">
				<h1>Catégories.</h1>
			</div>
		</div>

		<div class="row">
			<div class="offset-sm-1"
				<nav aria-label="breadcrumb">
				  <ol class="breadcrumb">
				    <li class="breadcrumb-item"><a href="{{ path("admin") }}">Administrateur</a></li>
				    <li class="breadcrumb-item active" aria-current="page">Catégories</li>
				  </ol>
				</nav>
			</div>
		</div>

		<div class="row justify-content-center">

			{% if categories|length > 0 %}
				<div class="row">
					<div class="col-10 offset-md-1">
						<table class="table table-bordered">
							<thead class="thead-dark">
								<tr><th></th><th>Nom</th><th>Code</th><th>Activitée</th><th>Voir</th></tr>
							</thead>
							<tbody>
								{% for category in categories %}
									<tr>
										<td>
											{% if category.imgFileName != null %}
												<img src="{{ asset('img/uploads/Categories/' ~ category.imgFileName) }}" width="60" height="60">
											{% endif %}
										</td>
										<td>{{ category.name }}</td>
										<td>{{ category.code }}</td>
										<td>{{ (category.activate)?('Actif'):('Inactif') }}</td>
										<td><a href="{{ path("category",  {id:category.id}) }}" class="btn btn-info">Voir</a></td>
									</tr>
								{% endfor %}
							</tbody>
						</table>
					</div>
				</div>
			{% else %}
				<div class="col-12 justify-content-center">
					<p>Aucune catégorie trouvée.</p>
				</div>
			{% endif %}
			<div class="{{ (categories|length > 0)?('col offset-sm-1'):('col-12') }}">
				<a href="{{ path("create_category") }}" class="btn btn-primary">Créer une catégorie.</a>
			</div>

		</div>


{% endblock %}



